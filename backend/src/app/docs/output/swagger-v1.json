{
  "swagger": "2.0",
  "info": {
    "version": "1.0.0",
    "title": "ENFTIS API Documentation",
    "description": "Documentation automatically generated by the <b>swagger-autogen</b> module."
  },
  "host": "127.0.0.1:8000",
  "basePath": "/",
  "tags": [
    {
      "name": "Client",
      "description": "Client Endpoints: The identity of device that consumes the API."
    },
    {
      "name": "User",
      "description": "User Endpoints: The User Model"
    }
  ],
  "schemes": [
    "http",
    "https"
  ],
  "securityDefinitions": {
    "apiKeyAuth": {
      "type": "apiKey",
      "in": "header",
      "name": "X-API-KEY",
      "description": "Some description..."
    },
    "bearerAuth": {
      "type": "http",
      "scheme": "bearer",
      "bearerFormat": "JWT"
    }
  },
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "paths": {
    "/api/": {
      "get": {
        "description": "",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/v1/": {
      "get": {
        "description": "",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/v1/auth/": {
      "get": {
        "description": "",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/v1/auth/client": {
      "post": {
        "tags": [
          "Client"
        ],
        "summary": "Creates a new Client",
        "description": "Endpoint to create a new client model",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "obj",
            "in": "body",
            "description": "Device information for the connected client.",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "device_uid": {
                  "type": "string",
                  "example": "ABC1234567890XYZ"
                },
                "device_name": {
                  "type": "string",
                  "example": "Device ABC v1"
                },
                "device_pub_key": {
                  "type": "string",
                  "example": "LS0tLS1CRUdJTiBSU0EgUFVCTElDIEtFWS0tLS0tCk1JSUJDZ0..."
                },
                "device_agent": {
                  "type": "string",
                  "example": "Mozilla v 1.0.0"
                }
              },
              "required": [
                "device_uid",
                "device_name",
                "device_pub_key",
                "device_agent"
              ]
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Client registration successful.",
            "schema": {
              "$ref": "#/definitions/Client"
            }
          },
          "400": {
            "description": "Missing or invalid registration parameters.",
            "schema": {
              "type": "object",
              "properties": {
                "status": {
                  "type": "string",
                  "example": "error"
                },
                "error": {
                  "type": "string",
                  "example": "BAD_REQUEST"
                },
                "message": {
                  "type": "string",
                  "example": "INVALID_PARAMETERS_CLIENT_MODEL_POST"
                }
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "500": {
            "description": "Server error during client registration.",
            "schema": {
              "type": "object",
              "properties": {
                "status": {
                  "type": "string",
                  "example": "error"
                },
                "error": {
                  "type": "string",
                  "example": "SERVER_ERROR"
                },
                "message": {
                  "type": "string",
                  "example": "INTERNAL_SERVER_ERROR_CLIENT_MODEL_POST"
                }
              },
              "xml": {
                "name": "main"
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      },
      "get": {
        "tags": [
          "Client"
        ],
        "summary": "Gets an existing Client",
        "description": "Endpoint to get an already existing client model",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "responses": {
          "201": {
            "description": "Client updated successfully.",
            "schema": {
              "$ref": "#/definitions/Client"
            }
          },
          "404": {
            "description": "Client device not found.",
            "schema": {
              "type": "object",
              "properties": {
                "status": {
                  "type": "string",
                  "example": "error"
                },
                "error": {
                  "type": "string",
                  "example": "NOT_FOUND"
                },
                "message": {
                  "type": "string",
                  "example": "CLIENT_MODEL_NOT_FOUND_GET"
                }
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "500": {
            "description": "Server error while retrieving client.",
            "schema": {
              "type": "object",
              "properties": {
                "status": {
                  "type": "string",
                  "example": "error"
                },
                "error": {
                  "type": "string",
                  "example": "SERVER_ERROR"
                },
                "message": {
                  "type": "string",
                  "example": "INTERNAL_SERVER_ERROR_CLIENT_MODEL_GET"
                }
              },
              "xml": {
                "name": "main"
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/v1/auth/client/{device_id}": {
      "get": {
        "tags": [
          "Client"
        ],
        "summary": "Gets an existing Client",
        "description": "Endpoint to get an already existing client model",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "device_id",
            "in": "path",
            "required": true,
            "type": "integer",
            "description": "Client device ID to retrieve."
          }
        ],
        "responses": {
          "201": {
            "description": "Client updated successfully.",
            "schema": {
              "$ref": "#/definitions/Client"
            }
          },
          "400": {
            "description": "Missing or invalid client parameters.",
            "schema": {
              "type": "object",
              "properties": {
                "status": {
                  "type": "string",
                  "example": "error"
                },
                "error": {
                  "type": "string",
                  "example": "BAD_REQUEST"
                },
                "message": {
                  "type": "string",
                  "example": "INVALID_PARAMETERS_CLIENT_MODEL_GET"
                }
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "404": {
            "description": "Client device not found.",
            "schema": {
              "type": "object",
              "properties": {
                "status": {
                  "type": "string",
                  "example": "error"
                },
                "error": {
                  "type": "string",
                  "example": "NOT_FOUND"
                },
                "message": {
                  "type": "string",
                  "example": "CLIENT_MODEL_NOT_FOUND_GET"
                }
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "500": {
            "description": "Server error while retrieving client.",
            "schema": {
              "type": "object",
              "properties": {
                "status": {
                  "type": "string",
                  "example": "error"
                },
                "error": {
                  "type": "string",
                  "example": "SERVER_ERROR"
                },
                "message": {
                  "type": "string",
                  "example": "INTERNAL_SERVER_ERROR_CLIENT_MODEL_GET"
                }
              },
              "xml": {
                "name": "main"
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      },
      "put": {
        "tags": [
          "Client"
        ],
        "summary": "Updates an existing Client",
        "description": "Endpoint to updates an already existing client model",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "device_id",
            "in": "path",
            "required": true,
            "type": "integer",
            "description": "Client device ID to update."
          },
          {
            "name": "obj",
            "in": "body",
            "description": "Device information for the connected client.",
            "required": true,
            "schema": {
              "type": "object",
              "properties": {
                "device_pub_key": {
                  "type": "string",
                  "example": "LS0tLS1CRUdJTiBSU0EgUFVCTElDIEtFWS0tLS0tCk1JSUJDZ0..."
                }
              },
              "required": [
                "device_pub_key"
              ]
            }
          }
        ],
        "responses": {
          "201": {
            "description": "Client updated successfully.",
            "schema": {
              "$ref": "#/definitions/Client"
            }
          },
          "400": {
            "description": "Missing or invalid client update parameters.",
            "schema": {
              "type": "object",
              "properties": {
                "status": {
                  "type": "string",
                  "example": "error"
                },
                "error": {
                  "type": "string",
                  "example": "BAD_REQUEST"
                },
                "message": {
                  "type": "string",
                  "example": "INVALID_PARAMETERS_CLIENT_MODEL_PUT"
                }
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "404": {
            "description": "Client device not found.",
            "schema": {
              "type": "object",
              "properties": {
                "status": {
                  "type": "string",
                  "example": "error"
                },
                "error": {
                  "type": "string",
                  "example": "NOT_FOUND"
                },
                "message": {
                  "type": "string",
                  "example": "CLIENT_MODEL_NOT_FOUND_PUT"
                }
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "500": {
            "description": "Server error during client update.",
            "schema": {
              "type": "object",
              "properties": {
                "status": {
                  "type": "string",
                  "example": "error"
                },
                "error": {
                  "type": "string",
                  "example": "SERVER_ERROR"
                },
                "message": {
                  "type": "string",
                  "example": "INTERNAL_SERVER_ERROR_CLIENT_MODEL_PUT"
                }
              },
              "xml": {
                "name": "main"
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      },
      "patch": {
        "description": "",
        "parameters": [
          {
            "name": "device_id",
            "in": "path",
            "required": true,
            "type": "string"
          }
        ],
        "responses": {
          "default": {
            "description": ""
          }
        }
      },
      "delete": {
        "tags": [
          "Client"
        ],
        "summary": "Deletes an existing Client",
        "description": "Endpoint to delete an already existing client model",
        "consumes": [
          "application/json"
        ],
        "produces": [
          "application/json"
        ],
        "parameters": [
          {
            "name": "device_id",
            "in": "path",
            "required": true,
            "type": "integer",
            "description": "Client device ID to delete."
          }
        ],
        "responses": {
          "201": {
            "description": "Client deleted successfully.",
            "schema": {
              "$ref": "#/definitions/Client"
            }
          },
          "400": {
            "description": "Missing or invalid delete parameters.",
            "schema": {
              "type": "object",
              "properties": {
                "status": {
                  "type": "string",
                  "example": "error"
                },
                "error": {
                  "type": "string",
                  "example": "BAD_REQUEST"
                },
                "message": {
                  "type": "string",
                  "example": "INVALID_PARAMETERS_CLIENT_MODEL_DELETE"
                }
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "404": {
            "description": "Client device not found.",
            "schema": {
              "type": "object",
              "properties": {
                "status": {
                  "type": "string",
                  "example": "error"
                },
                "error": {
                  "type": "string",
                  "example": "NOT_FOUND"
                },
                "message": {
                  "type": "string",
                  "example": "CLIENT_MODEL_NOT_FOUND_DELETE"
                }
              },
              "xml": {
                "name": "main"
              }
            }
          },
          "500": {
            "description": "Server error while deleting client.",
            "schema": {
              "type": "object",
              "properties": {
                "status": {
                  "type": "string",
                  "example": "error"
                },
                "error": {
                  "type": "string",
                  "example": "SERVER_ERROR"
                },
                "message": {
                  "type": "string",
                  "example": "INTERNAL_SERVER_ERROR_CLIENT_MODEL_DELETE"
                }
              },
              "xml": {
                "name": "main"
              }
            }
          }
        },
        "security": [
          {
            "bearerAuth": []
          }
        ]
      }
    },
    "/api/v1/auth*": {
      "get": {
        "description": "",
        "responses": {
          "404": {
            "description": "Not Found"
          }
        }
      }
    }
  },
  "definitions": {
    "Roles": {
      "type": "object",
      "properties": {
        "enum": {
          "type": "array",
          "example": [
            "root",
            "super-admin",
            "tenant-admin",
            "editor",
            "moderator",
            "observer",
            "subscriber",
            "guest"
          ],
          "items": {
            "type": "string"
          }
        }
      }
    },
    "Client": {
      "type": "object",
      "properties": {
        "clientDeviceId": {
          "type": "string",
          "example": "SERIAL1234567890"
        },
        "clientDeviceName": {
          "type": "string",
          "example": "My Device #001"
        },
        "clientDevicePubKey": {
          "type": "string",
          "example": "client.public.pem"
        },
        "serverDevicePubKey": {
          "type": "string",
          "example": "server.public.pem"
        },
        "clientDeviceUserAgent": {
          "type": "string",
          "example": "Device Browser v 5.0.0"
        },
        "clientId": {
          "type": "string",
          "example": "a187ao9a3afe36a3984ca7"
        },
        "clientSecret": {
          "type": "string",
          "example": "cco9a3afe36a187ao9a3afe36a3984ca7a3984ca7a187ao9a3afe36a3984ca7"
        }
      },
      "required": [
        "clientId",
        "clientSecret"
      ]
    },
    "User": {
      "type": "object",
      "properties": {
        "firstName": {
          "type": "string",
          "example": "John"
        },
        "lastName": {
          "type": "string",
          "example": "Doe"
        },
        "username": {
          "type": "string",
          "example": "john.doe"
        },
        "emailAddress": {
          "type": "string",
          "example": "john.doe@domain.tld"
        },
        "password": {
          "type": "string",
          "example": "pass123"
        },
        "phoneNumber": {
          "type": "string",
          "example": "+1 (234) 567 8901"
        },
        "photoURL": {
          "type": "string",
          "example": "https://img.com"
        },
        "age": {
          "type": "number",
          "example": 24
        },
        "isActive": {
          "type": "boolean",
          "example": true
        },
        "emailAddressVerified": {
          "type": "boolean",
          "example": false
        },
        "phoneNumberVerified": {
          "type": "boolean",
          "example": false
        },
        "accessLevels": {
          "type": "object",
          "properties": {
            "defaultRole": {
              "type": "string",
              "example": "admin"
            },
            "roles": {
              "type": "array",
              "example": [
                "admin",
                "observer"
              ],
              "items": {
                "type": "string"
              }
            },
            "permissions": {
              "type": "array",
              "example": [
                "can-view",
                "can-edit",
                "can-create",
                "can-delete"
              ],
              "items": {
                "type": "string"
              }
            }
          }
        },
        "organization": {
          "type": "string",
          "example": "693483902049"
        },
        "firebaseUserData": {
          "type": "object",
          "properties": {
            "uid": {
              "type": "string",
              "example": "iLX9898yhdsiudk"
            },
            "displayName": {
              "type": "string",
              "example": "John Doe"
            },
            "email": {
              "type": "string",
              "example": "john.doe@domain.tld"
            },
            "phoneNumber": {
              "type": "string",
              "example": "+1 (234) 567 8901"
            },
            "photoURL": {
              "type": "string",
              "example": "https://img.com"
            }
          }
        },
        "clientId": {
          "$ref": "#/definitions/Client"
        }
      },
      "required": [
        "firstName",
        "lastName"
      ]
    }
  },
  "components": {
    "examples": {
      "ClientResponse201": {
        "clientDeviceId": "SERIAL1234567890",
        "clientDeviceName": "My Device #001",
        "clientDevicePubKey": "client.public.pem",
        "serverDevicePubKey": "server.public.pem",
        "clientDeviceUserAgent": "Device Browser v 5.0.0",
        "$clientId": "a187ao9a3afe36a3984ca7",
        "$clientSecret": "cco9a3afe36a187ao9a3afe36a3984ca7a3984ca7a187ao9a3afe36a3984ca7"
      },
      "ClientResponse400": {
        "status": "error",
        "error": "BAD_REQUEST",
        "message": "INVALID_PARAMETERS_CLIENT_MODEL"
      },
      "ClientResponse500": {
        "status": "error",
        "error": "SERVER_ERROR",
        "message": "INTERNAL_SERVER_ERROR_CLIENT_MODEL"
      }
    }
  }
}